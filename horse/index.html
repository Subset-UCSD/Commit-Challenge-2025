<!DOCTYPE html>
<html>
<head>
<title>horse simulator</title>
</head>
<body>

<h1>LOADI G AVERAGEW HORSE RESULT</h1>
    
    <label for="numberInput">Enter a number:</label>
    <input type="number" id="numberInput" name="number" min="1" max="1000000">
    <button onclick="triggerAction()">Submit</button>
    
    <p id="result"></p>
<script>
	function count(arr, item) {
		let cnt = 0;
		for (let i of arr) {
			if (item !== i) continue;
			cnt++;
		}
		return cnt;
	}
	function breed(num) {
		let result = Math.random();
		if (result <= 0.3) return num - 1;
		if (result <= 0.8) return num;
		return num + 1;
	}
	function attemptBread(inventory, tier) {
		let success = false;
		if (count(inventory, tier) === 2) {
			inventory = inventory.filter(x=>x!==tier);
			inventory.push(breed(tier));
			success = true;
		}
		return [inventory, success];
	}
	function sim() {
		let inventory = [];
		let horseCount = 0;
		while (!inventory.includes(4)) {
			for (let i = 3; i > 0; i--) {
				let succ;
				[inventory, succ] = attemptBread(inventory, i);
				
				if (succ) break;
				if (i === 1 && !succ) {
					inventory.push(1);
					horseCount++;
				}
			}
		}
		return horseCount;
	}

	function simulate() {
		const n = document.getElementById('numberInput').value;
		const resultElement = document.getElementById('result');
		c = 0; 
		for (let i = 0; i < n; i++) {c+=sim();}
		resultElement.textContent = n_sim(n)
	}
</script>
</body>
</html>