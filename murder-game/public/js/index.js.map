{
  "version": 3,
  "sources": ["../../client/index.ts"],
  "sourcesContent": ["import { ClientMessage, ServerMessage, State } from \"../server/Messaging\";\n\nconst cnv = document.getElementById('cnv') as HTMLCanvasElement;\nconst ws = new WebSocket(window.location.href.replace(/^http/, \"ws\").replace(/\\/$/, \"\").replace(/^https/, \"wss\"));\n\ncnv.width = window.innerWidth;\ncnv.height = window.innerHeight;\n\nconst c = cnv.getContext(\"2d\");\n\nws.addEventListener(\"message\", handleServerMessage);\n\nlet state:State={\n\tballs:[{x:150,y:150},{x:800,y:870},{x:500,y:300}]\n}\n\nfunction handleServerMessage(data: MessageEvent) {\n\tlet msg: ServerMessage | null = null;\n\ttry {\n\t\tmsg = JSON.parse(data.data);\n\t} catch (e) {}\n\tif (!msg) return;\n\n\tswitch (msg.type) {\n\t\tcase \"ping\":\n\t\t\tconsole.log(\"Received ping...\");\n\t\t\tsend({\"type\": \"pong\"});\n\t\t\tbreak;\n\t\tcase 'state':\n\t\t\tstate = msg.state\n\t\t\tbreak\n\t}\n}\n\nfunction send(data: ClientMessage) {\n\tws.send(JSON.stringify(data));\n}\n\nfunction draw() {\n\tc?.clearRect(0,0,cnv.width,cnv.height)\n\t\n\tc?.fillText('amogus',50, 50)\n\tif (!c){return}\n\tfor (const [i, {x,y}] of state.balls.entries()) {\n\t\tc.fillStyle = `hsl(${i * 57}, 50%, 50%)`\n\t\tc.beginPath()\n\t\tc.moveTo(x + 10, y)\n\t\tc.arc(x,y,10,0,Math.PI*2,)\n\t\tc.fill()\n\t\tc.stroke()\n\t}\n\trequestAnimationFrame(draw);\n}\ndraw()"],
  "mappings": ";AAEA,IAAM,MAAM,SAAS,eAAe,KAAK;AACzC,IAAM,KAAK,IAAI,UAAU,OAAO,SAAS,KAAK,QAAQ,SAAS,IAAI,EAAE,QAAQ,OAAO,EAAE,EAAE,QAAQ,UAAU,KAAK,CAAC;AAEhH,IAAI,QAAQ,OAAO;AACnB,IAAI,SAAS,OAAO;AAEpB,IAAM,IAAI,IAAI,WAAW,IAAI;AAE7B,GAAG,iBAAiB,WAAW,mBAAmB;AAElD,IAAI,QAAY;AAAA,EACf,OAAM,CAAC,EAAC,GAAE,KAAI,GAAE,IAAG,GAAE,EAAC,GAAE,KAAI,GAAE,IAAG,GAAE,EAAC,GAAE,KAAI,GAAE,IAAG,CAAC;AACjD;AAEA,SAAS,oBAAoB,MAAoB;AAChD,MAAI,MAA4B;AAChC,MAAI;AACH,UAAM,KAAK,MAAM,KAAK,IAAI;AAAA,EAC3B,SAAS,GAAG;AAAA,EAAC;AACb,MAAI,CAAC,IAAK;AAEV,UAAQ,IAAI,MAAM;AAAA,IACjB,KAAK;AACJ,cAAQ,IAAI,kBAAkB;AAC9B,WAAK,EAAC,QAAQ,OAAM,CAAC;AACrB;AAAA,IACD,KAAK;AACJ,cAAQ,IAAI;AACZ;AAAA,EACF;AACD;AAEA,SAAS,KAAK,MAAqB;AAClC,KAAG,KAAK,KAAK,UAAU,IAAI,CAAC;AAC7B;AAEA,SAAS,OAAO;AACf,KAAG,UAAU,GAAE,GAAE,IAAI,OAAM,IAAI,MAAM;AAErC,KAAG,SAAS,UAAS,IAAI,EAAE;AAC3B,MAAI,CAAC,GAAE;AAAC;AAAA,EAAM;AACd,aAAW,CAAC,GAAG,EAAC,GAAE,EAAC,CAAC,KAAK,MAAM,MAAM,QAAQ,GAAG;AAC/C,MAAE,YAAY,OAAO,IAAI,EAAE;AAC3B,MAAE,UAAU;AACZ,MAAE,OAAO,IAAI,IAAI,CAAC;AAClB,MAAE,IAAI,GAAE,GAAE,IAAG,GAAE,KAAK,KAAG,CAAE;AACzB,MAAE,KAAK;AACP,MAAE,OAAO;AAAA,EACV;AACA,wBAAsB,IAAI;AAC3B;AACA,KAAK;",
  "names": []
}
